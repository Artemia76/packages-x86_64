description="Garbage collection and memory leak detection for C and C++"
url="http://www.hboehm.info/"
contributors="berlius"
packager="greg<greg@nutyx.org>"

# Depends on:  

name=boehm-gc
version=7.6.0
release=1

source=(http://www.hboehm.info/gc/gc_source/gc-${version}.tar.gz
        https://github.com/ivmai/libatomic_ops/archive/v${version}.tar.gz)
        

build () {

    cd gc-$version
    
    ln -s $SRC/libatomic_ops-${version} libatomic_ops

    ./configure \
        --prefix=/usr \
        --enable-threads=pthreads \
        --enable-static \
        --enable-shared
        
    make
  

}


package() {

	cd gc-$version
    make DESTDIR=$PKG install
    install -D -m 644 doc/gc.man $PKG/usr/man/man3/gc.3
  
}
