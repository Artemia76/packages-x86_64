description="library for retrieving information on running processes and system utilization"
url="https://github.com/giampaolo/psutil"
contributors="Chris Farrell, timcowchip"
packager="greg<greg@nutyx.org>"

# Depends on: python2 python2-setuptools

name=psutil
version=5.2.2
release=1

source=(https://github.com/giampaolo/psutil/archive/release-$version.tar.gz)

build() {

  cd psutil-release-$version

  python2 setup.py build --build-lib=build/python2
  find build/python2 -type f -exec \
    sed -i '1s,^#! \?/usr/bin/\(env \|\)python$,#!/usr/bin/python2,' {} \;
  export PYTHONPATH=$PWD/build/python2
  

                   
}

package() {

  cd psutil-release-$version
  
  python2 setup.py build --build-lib=build/python2 \
                   install --root=$PKG --optimize=1
                   
}
