# Depends on: libffi pcre python elfutils

description="The GLib package contains a low-level libraries useful for providing data structure handling"
url="http://www.gtk.org/"
packager="tnut <tnut@nutyx.org>"

[ "$PKGMK_ARCH" == "x86_64" ] && PKGMK_GROUPS=(man devel doc )

name=glib
version=2.52.3
release=1

source=(http://ftp.gnome.org/pub/gnome/sources/glib/${version:0:4}/$name-$version.tar.xz
        glib-revert-warn-glib-compile-schemas.patch)

build () {
  cd $name-$version

  patch -Rp1 -i ../glib-revert-warn-glib-compile-schemas.patch

  ./configure --prefix=/usr \
              --with-pcre=system \
              --with-python=/usr/bin/python3 \
              --disable-fam
  make
  make DESTDIR=$PKG install
}
