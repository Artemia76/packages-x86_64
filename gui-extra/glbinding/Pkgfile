# Depends on: cmake doxygen mesa libglade

description="A C++ binding for the OpenGL API, generated using the gl.xml specification." 
url="http://www.glbinding.org"
contributors="berlius, tnut"
packager="greg <greg@nutyx.org>"


name=glbinding
version=2.1.3
release=1

source=(https://github.com/cginternals/$name/archive/v$version.tar.gz)
 

prepare() {
  cd $name-$version

  rm -rf build
  mkdir build
}

build() {
  cd $name-$version/build

  cmake .. -DCMAKE_INSTALL_PREFIX=/usr -DCMAKE_BUILD_TYPE=Release \
    -DOPTION_BUILD_TESTS=OFF
  make
}

check() {
  cd $name-$version/build

  cmake .. -DOPTION_BUILD_TESTS=ON
  make
  make test
}

check

package() {
  cd $name-$version

  make -C build DESTDIR=$PKG/ install

}
