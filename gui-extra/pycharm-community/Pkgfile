# Depends On : python2-setuptools python-setuptools giflib ttf-ms-fonts

description="Powerful Python and Django IDE. Community edition."
url="https://jetbrains.com/pycharm"
packager="Hugo"

name=pycharm-community
version=2017.2.1
release=1


source=(https://download.jetbrains.com/python/$name-$version.tar.gz
	pycharm-community.desktop)
 
build(){
 python3 $SRC/$name-$version/helpers/pydev/setup_cython.py build_ext --inplace
 python2 $SRC/$name-$version/helpers/pydev/setup_cython.py build_ext --inplace
}

package(){
 cd $SRC
 mkdir -p $PKG/opt/$name
 cp -R $SRC/$name-$version/* $PKG/opt/$name
 
 mkdir -p $PKG/usr/share/{applications,pixmaps}
 install -Dm644 $SRC/pycharm-community.desktop $PKG/usr/share/applications/
 install -Dm644 $PKG/opt/$name/bin/pycharm.png $PKG/usr/share/pixmaps/pycharm.png

 mkdir -p $PKG/usr/bin
 ln -s /opt/pycharm-community/bin/pycharm.sh $PKG/usr/bin/pycharm
}
