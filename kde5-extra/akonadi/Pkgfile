# Depends on : extra-cmake-modules postgresql kdesignerplugin qttools boost kio kitemmodels sqlite

description="PIM layer, which provides an asynchronous API to access all kind of PIM data "
url="https://projects.kde.org/akonadi"
packager="tnut <tnut@nutyx.org>"
contributors="Pierre B"

run=(sqlite)

name=akonadi
version=17.08.2

source=(http://download.kde.org/stable/applications/$version/src/$name-$version.tar.xz)

build() {
	cd $name-$version
	mkdir build
	cd build
	cmake -DCMAKE_INSTALL_PREFIX=/usr  \
		-DCMAKE_BUILD_TYPE=Release \
		-DKDE_INSTALL_LIBDIR=lib   \
		-DBUILD_TESTING=OFF        \
		-DDATABASE_BACKEND=SQLITE  \
		-Wno-dev ..
	make
	make DESTDIR=$PKG install

}
